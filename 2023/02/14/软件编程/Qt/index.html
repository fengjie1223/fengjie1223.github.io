<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Qt | 冯杰的笔记</title>
  <meta name="keywords" content=" visual studio , Qt , vscode-Qt , QUdpSocket , QML , Qt_QDir , qDebug_重定向到日志 , ini乱码 , 多线程 , Modbus ">
  <meta name="description" content="Qt | 冯杰的笔记">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick">
<meta property="og:type" content="website">
<meta property="og:title" content="Hello World">
<meta property="og:url" content="https://fengjie1223.github.io/hello-world.html">
<meta property="og:site_name" content="冯杰的笔记">
<meta property="og:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2026-01-19T09:17:37.938Z">
<meta property="article:modified_time" content="2023-11-16T07:44:55.000Z">
<meta property="article:author" content="冯杰">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/github.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.3.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>冯杰</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/fengjie1223"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="jianshu"
               href="https://www.jianshu.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-jianshu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="email"
               href="mailto:970782239@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(26)</small>
            
        </div>
    </li>
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="工业相机">
            <i class="fold iconfont icon-right"></i>
            工业相机
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="工业相机&lt;---&gt;度申">
            
            度申
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工业相机&lt;---&gt;Basler">
            
            Basler
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工业相机&lt;---&gt;Dalsa">
            
            Dalsa
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工业相机&lt;---&gt;HIK">
            
            HIK
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="嵌入式">
            <i class="fold iconfont icon-right"></i>
            嵌入式
            <small>(7)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="嵌入式&lt;---&gt;输出电路">
            
            输出电路
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="嵌入式&lt;---&gt;Altium">
            
            Altium
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="嵌入式&lt;---&gt;C">
            
            C
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="嵌入式&lt;---&gt;FPGA">
            
            FPGA
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="嵌入式&lt;---&gt;RT_Thread">
            
            RT_Thread
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="嵌入式&lt;---&gt;STM32">
            
            STM32
            <small>(2)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="软件编程">
            <i class="fold iconfont icon-right"></i>
            软件编程
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="软件编程&lt;---&gt;C++">
            
            C++
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="软件编程&lt;---&gt;InnoSetup">
            
            InnoSetup
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="软件编程&lt;---&gt;OpenCV">
            
            OpenCV
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="软件编程&lt;---&gt;Qt">
            
            Qt
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="深度学习">
            <i class="fold iconfont icon-right"></i>
            深度学习
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="深度学习&lt;---&gt;python">
            
            python
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="深度学习&lt;---&gt;yolov8">
            
            yolov8
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="综合">
            <i class="fold iconfont icon-right"></i>
            综合
            <small>(5)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="综合&lt;---&gt;办公">
            
            办公
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="综合&lt;---&gt;博客">
            
            博客
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="综合&lt;---&gt;git">
            
            git
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="综合&lt;---&gt;vscode">
            
            vscode
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="HID产品">
            <i class="fold iconfont icon-right"></i>
            HID产品
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="HID产品&lt;---&gt;光源控制器">
            
            光源控制器
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="PLC">
            <i class="fold iconfont icon-right"></i>
            PLC
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="PLC&lt;---&gt;Delta">
            
            Delta
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        <a 
                                           class="friends">友链</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="26">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://www.github.com">github</a></li>
            
            <li><a target="_blank" href="https://www.google.com">google</a></li>
            
            <li><a target="_blank" href="https://www.bilibili.com">bilibili</a></li>
            
            <li><a target="_blank" href="https://www.keyence.com.cn/">基恩士</a></li>
            
            <li><a target="_blank" href="https://www.delta-china.com.cn/zh-CN/index">台达</a></li>
            
            <li><a target="_blank" href="https://www.ad.siemens.com.cn/home/?_channel_track_key=lpSbj6Lj">西门子工业</a></li>
            
            <li><a target="_blank" href="https://www.hikrobotics.com/cn/">海康机器人</a></li>
            
            <li><a target="_blank" href="http://i-tek.cn/">埃科光电</a></li>
            
            <li><a target="_blank" href="https://www.china-vision.org/">中国机器视觉网</a></li>
            
            <li><a target="_blank" href="https://docs.ultralytics.com/zh/">ultralytics</a></li>
            
            <li><a target="_blank" href="https://www.st.com/content/st_com/en.html">STM32</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>版本管理</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>编程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>博客</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>短路保护</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>多线程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>泛编程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>服务器部署</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>共享</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>光源控制器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>海康</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>环境</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>环境搭建</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>回调函数</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>技术</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>局域网</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>命名规则</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>启动</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>输出电路</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构_链表</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>台达</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>同步盘</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>相机</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>序列号_芯片ID</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>永久激活</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>制作安装包</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Altium</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>conda</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CUDA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>cudnn</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>define</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Delta</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>FPGA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git服务器部署</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GPU</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HAL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HIK</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ini读写</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ini乱码</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>InnoSetup</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>keil</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MDK</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>minio</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Modbus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nvidia</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>opencv</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PCB</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PLC</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>potplayer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>qDebug_重定向到日志</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>QML</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Qt</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Qt_QDir</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>QUdpSocket</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ResilioSync</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RT_Thread</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>stm32</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>STM32</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vcpkg</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>visual studio</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vscode</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vscode-Qt</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vscode-stm32</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Windows</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>yolov8</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 HID产品 光源控制器 "
           href="/2026/01/14/HID%E4%BA%A7%E5%93%81/%E5%85%89%E6%BA%90%E6%8E%A7%E5%88%B6%E5%99%A8/"
           data-tag="光源控制器"
           data-author="" >
            <span class="post-title" title="光源控制器">光源控制器</span>
            <span class="post-date" title="2026-01-14 17:43:33">2026/01/14</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 输出电路 "
           href="/2026/01/14/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E8%BE%93%E5%87%BA%E7%94%B5%E8%B7%AF%E8%AE%BE%E8%AE%A1/"
           data-tag="技术,输出电路,短路保护"
           data-author="" >
            <span class="post-title" title="输出电路设计">输出电路设计</span>
            <span class="post-date" title="2026-01-14 17:43:33">2026/01/14</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2025/05/09/HID%E4%BA%A7%E5%93%81/EIP/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="EIP">EIP</span>
            <span class="post-date" title="2025-05-09 17:00:37">2025/05/09</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2025/05/09/%E7%BB%BC%E5%90%88/vcpkg/"
           data-tag="vcpkg"
           data-author="" >
            <span class="post-title" title="vcpkg">vcpkg</span>
            <span class="post-date" title="2025-05-09 16:56:39">2025/05/09</span>
        </a>
        
        
        <a  class="全部文章 工业相机 度申 "
           href="/2025/05/09/%E5%B7%A5%E4%B8%9A%E7%9B%B8%E6%9C%BA/%E5%BA%A6%E7%94%B3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="度申相机">度申相机</span>
            <span class="post-date" title="2025-05-09 16:56:39">2025/05/09</span>
        </a>
        
        
        <a  class="全部文章 工业相机 Dalsa "
           href="/2024/12/12/%E5%B7%A5%E4%B8%9A%E7%9B%B8%E6%9C%BA/Dalsa/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Dalsa">Dalsa</span>
            <span class="post-date" title="2024-12-12 16:58:47">2024/12/12</span>
        </a>
        
        
        <a  class="全部文章 工业相机 Basler "
           href="/2024/12/12/%E5%B7%A5%E4%B8%9A%E7%9B%B8%E6%9C%BA/Basler/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Basler">Basler</span>
            <span class="post-date" title="2024-12-12 16:58:47">2024/12/12</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 FPGA "
           href="/2024/12/12/%E5%B5%8C%E5%85%A5%E5%BC%8F/FPGA/"
           data-tag="FPGA"
           data-author="" >
            <span class="post-title" title="FPGA">FPGA</span>
            <span class="post-date" title="2024-12-12 16:58:42">2024/12/12</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 RT_Thread "
           href="/2024/05/06/%E5%B5%8C%E5%85%A5%E5%BC%8F/RT_Thread/"
           data-tag="stm32,RT_Thread"
           data-author="" >
            <span class="post-title" title="RT_Thread">RT_Thread</span>
            <span class="post-date" title="2024-05-06 10:46:36">2024/05/06</span>
        </a>
        
        
        <a  class="全部文章 软件编程 C++ "
           href="/2024/04/09/%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A8%8B/C++/"
           data-tag="技术,C++,设计模式,泛编程,ini读写"
           data-author="" >
            <span class="post-title" title="C++">C++</span>
            <span class="post-date" title="2024-04-09 15:34:36">2024/04/09</span>
        </a>
        
        
        <a  class="全部文章 软件编程 OpenCV "
           href="/2024/02/02/%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A8%8B/OpenCV/"
           data-tag="opencv"
           data-author="" >
            <span class="post-title" title="OpenCV">OpenCV</span>
            <span class="post-date" title="2024-02-02 11:26:47">2024/02/02</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 C "
           href="/2024/01/25/%E5%B5%8C%E5%85%A5%E5%BC%8F/C/"
           data-tag="技术,C,回调函数,define,数据结构_链表,命名规则"
           data-author="" >
            <span class="post-title" title="C">C</span>
            <span class="post-date" title="2024-01-25 10:38:17">2024/01/25</span>
        </a>
        
        
        <a  class="全部文章 综合 博客 "
           href="/2023/12/14/%E7%BB%BC%E5%90%88/nssm/"
           data-tag="博客,环境,启动"
           data-author="" >
            <span class="post-title" title="nssm">nssm</span>
            <span class="post-date" title="2023-12-14 09:33:03">2023/12/14</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 STM32 "
           href="/2023/12/12/%E5%B5%8C%E5%85%A5%E5%BC%8F/MDK_keil/"
           data-tag="MDK,keil"
           data-author="" >
            <span class="post-title" title="MDK">MDK</span>
            <span class="post-date" title="2023-12-12 10:19:23">2023/12/12</span>
        </a>
        
        
        <a  class="全部文章 深度学习 yolov8 "
           href="/2023/12/05/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/yolov8/"
           data-tag="python,conda,yolov8,Nvidia,GPU,CUDA,cudnn"
           data-author="" >
            <span class="post-title" title="yolov8">yolov8</span>
            <span class="post-date" title="2023-12-05 13:58:51">2023/12/05</span>
        </a>
        
        
        <a  class="全部文章 深度学习 python "
           href="/2023/12/05/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Python/"
           data-tag="python,conda"
           data-author="" >
            <span class="post-title" title="Python">Python</span>
            <span class="post-date" title="2023-12-05 13:53:02">2023/12/05</span>
        </a>
        
        
        <a  class="全部文章 综合 vscode "
           href="/2023/11/17/%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A8%8B/vscode/"
           data-tag="vscode,环境搭建,编程"
           data-author="" >
            <span class="post-title" title="vscode">vscode</span>
            <span class="post-date" title="2023-11-17 16:10:15">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 综合 办公 "
           href="/2023/11/17/%E7%BB%BC%E5%90%88/Windows/"
           data-tag="环境搭建,Windows,局域网,共享,永久激活,potplayer,同步盘,ResilioSync,服务器部署"
           data-author="" >
            <span class="post-title" title="Windows">Windows</span>
            <span class="post-date" title="2023-11-17 16:05:31">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 Altium "
           href="/2023/11/17/%E5%B5%8C%E5%85%A5%E5%BC%8F/Altium/"
           data-tag="Altium,PCB"
           data-author="" >
            <span class="post-title" title="Altium">Altium</span>
            <span class="post-date" title="2023-11-17 16:02:16">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 软件编程 InnoSetup "
           href="/2023/11/17/%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A8%8B/InnoSetup/"
           data-tag="InnoSetup,制作安装包"
           data-author="" >
            <span class="post-title" title="InnoSetup">InnoSetup</span>
            <span class="post-date" title="2023-11-17 15:59:34">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 综合 git "
           href="/2023/11/17/%E7%BB%BC%E5%90%88/git/"
           data-tag="git,版本管理,git服务器部署"
           data-author="" >
            <span class="post-title" title="git">git</span>
            <span class="post-date" title="2023-11-17 15:56:52">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 PLC Delta "
           href="/2023/11/17/PLC/Delta/"
           data-tag="台达,Delta,PLC"
           data-author="" >
            <span class="post-title" title="Delta">Delta</span>
            <span class="post-date" title="2023-11-17 15:54:22">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 嵌入式 STM32 "
           href="/2023/11/17/%E5%B5%8C%E5%85%A5%E5%BC%8F/STM32/"
           data-tag="STM32,HAL,vscode-stm32,序列号_芯片ID"
           data-author="" >
            <span class="post-title" title="STM32">STM32</span>
            <span class="post-date" title="2023-11-17 15:26:42">2023/11/17</span>
        </a>
        
        
        <a  class="全部文章 工业相机 HIK "
           href="/2023/11/16/%E5%B7%A5%E4%B8%9A%E7%9B%B8%E6%9C%BA/HIK/"
           data-tag="相机,海康,HIK"
           data-author="" >
            <span class="post-title" title="HIK">HIK</span>
            <span class="post-date" title="2023-11-16 15:13:20">2023/11/16</span>
        </a>
        
        
        <a  class="全部文章 综合 博客 "
           href="/2023/11/15/%E7%BB%BC%E5%90%88/hexo/"
           data-tag="博客,hexo,minio"
           data-author="" >
            <span class="post-title" title="hexo">hexo</span>
            <span class="post-date" title="2023-11-15 14:55:10">2023/11/15</span>
        </a>
        
        
        <a  class="全部文章 软件编程 Qt "
           href="/2023/02/14/%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A8%8B/Qt/"
           data-tag="visual studio,Qt,vscode-Qt,QUdpSocket,QML,Qt_QDir,qDebug_重定向到日志,ini乱码,多线程,Modbus"
           data-author="" >
            <span class="post-title" title="Qt">Qt</span>
            <span class="post-date" title="2023-02-14 17:46:44">2023/02/14</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-软件编程/Qt" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Qt</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="软件编程">软件编程</a> > 
            
            <a  data-rel="软件编程&lt;---&gt;Qt">Qt</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">visual studio</a>
            
            <a class="color3">Qt</a>
            
            <a class="color5">vscode-Qt</a>
            
            <a class="color1">QUdpSocket</a>
            
            <a class="color4">QML</a>
            
            <a class="color3">Qt_QDir</a>
            
            <a class="color4">qDebug_重定向到日志</a>
            
            <a class="color1">ini乱码</a>
            
            <a class="color4">多线程</a>
            
            <a class="color2">Modbus</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2026-01-15 18:03:02'>2023-02-14 17:46</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#visual-studio-%E4%B8%AD%E7%BC%96%E5%86%99Qt%E9%A1%B9%E7%9B%AE"><span class="toc-text">visual studio 中编写Qt项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-visual-studio-2022-%E5%AE%89%E8%A3%85%E7%BB%84%E4%BB%B6%E7%9A%84%E6%97%B6%E5%80%99%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E5%99%A8%E7%89%88%E6%9C%AC%EF%BC%88%E9%9C%80%E4%B8%8EQt%E7%89%88%E6%9C%AC%E4%B8%80%E8%87%B4%EF%BC%8C%E6%AD%A4%E5%A4%84%E4%BD%BF%E7%94%A8%E7%9A%84vs2019%E7%BC%96%E8%AF%91%E5%99%A8%EF%BC%89"><span class="toc-text">一. visual studio 2022 安装组件的时候可以选择安装编译器版本（需与Qt版本一致，此处使用的vs2019编译器）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E5%AE%89%E8%A3%85Qt%E6%89%A9%E5%B1%95-%E6%B3%A8-%E6%AD%A4%E5%A4%84%E4%BD%BF%E7%94%A8%E5%A4%96%E7%BD%91%E5%AE%89%E8%A3%85%E8%BE%83%E5%BF%AB-%E8%8B%A5%E6%B2%A1%E6%9C%89%E6%A2%AF%E5%AD%90-%E5%88%99%E7%82%B9%E5%87%BB%E5%8F%B3%E4%BE%A7%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-%E8%BF%9B%E5%85%A5%E7%BD%91%E9%A1%B5%E4%B8%8B%E8%BD%BD%E5%90%8E%E5%AE%89%E8%A3%85"><span class="toc-text">二. 安装Qt扩展(注:此处使用外网安装较快,若没有梯子,则点击右侧的详细信息,进入网页下载后安装)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E9%80%89%E6%8B%A9Qt%E7%89%88%E6%9C%AC"><span class="toc-text">三.选择Qt版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E6%89%93%E5%BC%80Qt%E9%A1%B9%E7%9B%AE-%E5%B0%86Qt%E9%A1%B9%E7%9B%AE%E8%BD%AC%E4%B8%BAvs%E9%A1%B9%E7%9B%AE"><span class="toc-text">四. 打开Qt项目(将Qt项目转为vs项目)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E6%89%93%E5%BC%80ui%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F"><span class="toc-text">五. 设置默认打开ui文件的打开方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%89%A7%E8%A1%8C%E9%A1%B9%E7%9B%AE-%E6%89%A7%E8%A1%8C%E6%88%90%E5%8A%9F"><span class="toc-text">六. 执行项目(执行成功)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-%E6%8C%87%E5%AE%9Aexe%E8%BE%93%E5%87%BA%E7%9B%AE%E5%BD%95-%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7-%E5%B8%B8%E8%A7%84-%E8%BE%93%E5%87%BA%E7%9B%AE%E5%BD%95-%E9%93%BE%E6%8E%A5%E5%99%A8-%E5%B8%B8%E8%A7%84-%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6-%E5%8D%B3%E5%8F%AF%E4%BF%AE%E6%94%B9%E7%94%9F%E6%88%90%E9%A1%B9%E7%9B%AE%E7%9A%84exe%E7%9A%84%E8%BE%93%E5%87%BA%E8%B7%AF%E5%BE%84"><span class="toc-text">七. 指定exe输出目录,配置属性-&gt;常规-&gt;输出目录.链接器-&gt;常规-&gt;输出文件.即可修改生成项目的exe的输出路径.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-%E6%89%93%E5%BC%80ui%E6%96%87%E4%BB%B6-%E5%87%A0%E7%A7%92%E5%90%8E%E5%BC%82%E5%B8%B8%E9%80%80%E5%87%BA"><span class="toc-text">八. 打开ui文件,几秒后异常退出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA-qdebug%E4%BF%A1%E6%81%AF%E6%97%A0%E8%BE%93%E5%87%BA"><span class="toc-text">九. 控制台输出,qdebug信息无输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81-%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">十. 快捷键</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81"><span class="toc-text">格式化代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-%E5%8F%96%E6%B6%88%E6%B3%A8%E9%87%8A"><span class="toc-text">注释&#x2F;取消注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%E6%8B%AC%E5%8F%B7%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8"><span class="toc-text">十一. 括号自动补全</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt-vscode-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">Qt_vscode_环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85Qt"><span class="toc-text">1. 安装Qt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85VSCode"><span class="toc-text">2. 安装VSCode</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%89%E8%A3%85Qt%E6%8F%92%E4%BB%B6"><span class="toc-text">3. 安装Qt插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%89%E8%A3%85CMake%E6%8F%92%E4%BB%B6"><span class="toc-text">4. 安装CMake插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%AE%89%E8%A3%85QtCreator%E6%8F%92%E4%BB%B6"><span class="toc-text">5. 安装QtCreator插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Qt%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE"><span class="toc-text">6. Qt环境变量配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">7. 检查环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%B0%86Qt%E9%A1%B9%E7%9B%AE%E7%A7%BB%E6%A4%8D%E5%88%B0vscode"><span class="toc-text">8. 将Qt项目移植到vscode</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#QUdpSocket"><span class="toc-text">QUdpSocket</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#libuv"><span class="toc-text">libuv</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86"><span class="toc-text">系统知识</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E8%BF%87%E7%A8%8B%E8%AF%95%E5%92%8C%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-text">测试过程试和验结果</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7-NetAssist"><span class="toc-text">测试工具 NetAssist</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP"><span class="toc-text">UDP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QUdpSocket-1"><span class="toc-text">QUdpSocket</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-text">操作步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83UDP%E5%BA%93"><span class="toc-text">其它UDP库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#libuv-1"><span class="toc-text">libuv</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="toc-text">编译安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B"><span class="toc-text">线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QThread-%E7%BA%BF%E7%A8%8B%E7%B1%BB"><span class="toc-text">QThread 线程类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="toc-text">常用操作函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#QThread%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-text">QThread操作步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QSemaphore-%E5%90%8C%E6%AD%A5"><span class="toc-text">QSemaphore 同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QMutex-%E4%BA%92%E6%96%A5"><span class="toc-text">QMutex  互斥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#moveToThread-%E5%A7%94%E6%89%98%E6%A7%BD%E5%87%BD%E6%95%B0%E7%BB%99%E7%BA%BF%E7%A8%8B%E6%89%A7%E8%A1%8C"><span class="toc-text">moveToThread    委托槽函数给线程执行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6QPlagin-%E5%B8%A6%E7%95%8C%E9%9D%A2%E5%8A%A8%E6%80%81%E5%BA%93"><span class="toc-text">插件QPlagin(带界面动态库)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-text">树形结构浏览器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87"><span class="toc-text">显示图片</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#QML"><span class="toc-text">QML</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9C%A8widget%E4%B8%AD%E4%BD%BF%E7%94%A8QML"><span class="toc-text">如何在widget中使用QML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-text">示例代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt-vscode-%E5%A4%96%E9%83%A8%E7%BC%96%E8%BE%91%E5%99%A8%E4%BF%AE%E6%94%B9%E5%90%8Eqtcreator%E5%BF%BD%E7%95%A5%E4%BF%AE%E6%94%B9%E6%8F%90%E7%A4%BA"><span class="toc-text">Qt_vscode_外部编辑器修改后qtcreator忽略修改提示</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vscode-msvc-qt%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">vscode_msvc_qt开发环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vscode"><span class="toc-text">vscode</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%B8%80"><span class="toc-text">方案一</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-text">安装插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-text">配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%BA%8C"><span class="toc-text">方案二</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3"><span class="toc-text">头文件相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-vscode%E7%BC%96%E8%AF%91qt%E7%9A%84%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86"><span class="toc-text">原理分析(vscode编译qt的核心原理)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-text">基本原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">实现步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bat%E6%96%87%E4%BB%B6%E9%80%90%E8%A1%8C%E5%88%86%E6%9E%90"><span class="toc-text">bat文件逐行分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96bat%E6%96%87%E4%BB%B6"><span class="toc-text">优化bat文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA"><span class="toc-text">控制台打印输出</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt-QDir%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">Qt_QDir文件夹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">创建文件夹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#title-PyQt5tags"><span class="toc-text">title: PyQt5tags:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PyQt5"><span class="toc-text">PyQt5</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B"><span class="toc-text">1. 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85"><span class="toc-text">2. 安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%B6%E4%BD%9C%E5%AE%89%E8%A3%85%E5%8C%85"><span class="toc-text">3. 制作安装包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-pycharm-%E9%85%8D%E7%BD%AE%E5%A4%96%E9%83%A8%E5%B7%A5%E5%85%B7"><span class="toc-text">4. pycharm 配置外部工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-vscode-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6PYQT-Integration"><span class="toc-text">5. vscode 安装插件PYQT Integration</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt-qDebug-%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E6%97%A5%E5%BF%97"><span class="toc-text">Qt_qDebug_重定向到日志</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF%E5%8F%8AAPI%E5%90%AB%E4%B9%89"><span class="toc-text">实现思路及API含义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E4%BF%A1%E6%81%AF%E5%A4%84%E7%90%86-%E4%B8%80%E8%88%AC%E4%B8%8D%E5%8F%96%E6%B6%88"><span class="toc-text">取消信息处理 (一般不取消)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt"><span class="toc-text">Qt</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ini%E6%96%87%E4%BB%B6%E4%B8%AD%E6%96%87"><span class="toc-text">ini文件中文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-text">Qt多线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QtConcurrent"><span class="toc-text">QtConcurrent</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E9%94%81"><span class="toc-text">线程锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QMutexLocker"><span class="toc-text">QMutexLocker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-1"><span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-text">示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-Modbus"><span class="toc-text">C++_Modbus</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Server"><span class="toc-text">Server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Client"><span class="toc-text">Client</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HMI"><span class="toc-text">HMI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">库的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="toc-text">组件实现</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="visual-studio-中编写Qt项目"><a href="#visual-studio-中编写Qt项目" class="headerlink" title="visual studio 中编写Qt项目"></a>visual studio 中编写Qt项目</h1><h2 id="一-visual-studio-2022-安装组件的时候可以选择安装编译器版本（需与Qt版本一致，此处使用的vs2019编译器）"><a href="#一-visual-studio-2022-安装组件的时候可以选择安装编译器版本（需与Qt版本一致，此处使用的vs2019编译器）" class="headerlink" title="一. visual studio 2022 安装组件的时候可以选择安装编译器版本（需与Qt版本一致，此处使用的vs2019编译器）"></a>一. visual studio 2022 安装组件的时候可以选择安装编译器版本（需与Qt版本一致，此处使用的vs2019编译器）</h2><p><img src="/../../images/Qt/1711533937422.png" alt="1711533937422"></p>
<h2 id="二-安装Qt扩展-注-此处使用外网安装较快-若没有梯子-则点击右侧的详细信息-进入网页下载后安装"><a href="#二-安装Qt扩展-注-此处使用外网安装较快-若没有梯子-则点击右侧的详细信息-进入网页下载后安装" class="headerlink" title="二. 安装Qt扩展(注:此处使用外网安装较快,若没有梯子,则点击右侧的详细信息,进入网页下载后安装)"></a>二. 安装Qt扩展(注:此处使用外网安装较快,若没有梯子,则点击右侧的详细信息,进入网页下载后安装)</h2><p><img src="/../../images/Qt/1711533946634.png" alt="1711533946634"></p>
<h2 id="三-选择Qt版本"><a href="#三-选择Qt版本" class="headerlink" title="三.选择Qt版本"></a>三.选择Qt版本</h2><p><img src="/../../images/Qt/1711533955150.png" alt="1711533955150"></p>
<p><img src="/../../images/Qt/1711533964408.png" alt="1711533964408"></p>
<h2 id="四-打开Qt项目-将Qt项目转为vs项目"><a href="#四-打开Qt项目-将Qt项目转为vs项目" class="headerlink" title="四. 打开Qt项目(将Qt项目转为vs项目)"></a>四. 打开Qt项目(将Qt项目转为vs项目)</h2><p><img src="/../../images/Qt/1711533972146.png" alt="1711533972146"></p>
<h2 id="五-设置默认打开ui文件的打开方式"><a href="#五-设置默认打开ui文件的打开方式" class="headerlink" title="五. 设置默认打开ui文件的打开方式"></a>五. 设置默认打开ui文件的打开方式</h2><p><img src="/../../images/Qt/1711533981456.png" alt="1711533981456"></p>
<p><img src="/../../images/Qt/1711533989867.png" alt="1711533989867"></p>
<h2 id="六-执行项目-执行成功"><a href="#六-执行项目-执行成功" class="headerlink" title="六. 执行项目(执行成功)"></a>六. 执行项目(执行成功)</h2><p><img src="/../../images/Qt/1711534001598.png" alt="1711534001598"></p>
<p><img src="/../../images/Qt/1711534010120.png" alt="1711534010120"></p>
<h2 id="七-指定exe输出目录-配置属性-常规-输出目录-链接器-常规-输出文件-即可修改生成项目的exe的输出路径"><a href="#七-指定exe输出目录-配置属性-常规-输出目录-链接器-常规-输出文件-即可修改生成项目的exe的输出路径" class="headerlink" title="七. 指定exe输出目录,配置属性-&gt;常规-&gt;输出目录.链接器-&gt;常规-&gt;输出文件.即可修改生成项目的exe的输出路径."></a>七. 指定exe输出目录,配置属性-&gt;常规-&gt;输出目录.链接器-&gt;常规-&gt;输出文件.即可修改生成项目的exe的输出路径.</h2><p><img src="/../../images/Qt/1711534019094.png" alt="1711534019094"></p>
<p><img src="/../../images/Qt/1711534026687.png" alt="1711534026687"></p>
<h2 id="八-打开ui文件-几秒后异常退出"><a href="#八-打开ui文件-几秒后异常退出" class="headerlink" title="八. 打开ui文件,几秒后异常退出"></a>八. 打开ui文件,几秒后异常退出</h2><p><img src="/../../images/Qt/1711589652032.png" alt="1711589652032"></p>
<ul>
<li>解决方法1: 选择“扩展-&gt;QT VS Tools-&gt;Options”，对话框中左侧选择“Qt-&gt;General”，右侧选择“Qt Designer-&gt;Run in detached window”选项值设为true 即可解决。</li>
<li>解决方法2: 右键ui文件,选择打开方式,选择默认使用qtdesigner打开即可</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_32155265/article/details/114905744">参考资料</a></li>
</ul>
<h2 id="九-控制台输出-qdebug信息无输出"><a href="#九-控制台输出-qdebug信息无输出" class="headerlink" title="九. 控制台输出,qdebug信息无输出"></a>九. 控制台输出,qdebug信息无输出</h2><p>方法一：</p>
<ol>
<li><p>右键点击项目名，选择属性</p>
</li>
<li><p>更改为如下设置</p>
</li>
</ol>
<p><img src="/../../images/Qt/1711592413759.png" alt="1711592413759"></p>
<ol start="3">
<li>在运行时就会额外弹出一个命令行窗口</li>
</ol>
<p>若不想再弹出这个窗口，将子系统调回 窗口(&#x2F;SUBSYSTEM:WINSOWS 即可</p>
<p>方法二：（推荐）</p>
<ol>
<li><p>在拓展中找到 Qt 选项</p>
</li>
<li><p>按如图所示进行修改</p>
</li>
</ol>
<p><img src="/../../images/Qt/1711592421875.png" alt="1711592421875"></p>
<ol start="3">
<li><p>将 Show debug information 改为 True</p>
</li>
<li><p>调试信息将在“输出”栏显示，不会弹出额外的窗口</p>
</li>
</ol>
<p><strong>注意：要在调试器下运行才能看到信息,直接按F5或者点本地windows调试器。</strong></p>
<p>其他信息：</p>
<p>将 Qt Designer 中的 Run in detached window 修改为 True，就可以解决部分打不开 .ui 文件的问题</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_60101211/article/details/123953957">原文链接：</a></p>
<h2 id="十-快捷键"><a href="#十-快捷键" class="headerlink" title="十. 快捷键"></a>十. 快捷键</h2><h3 id="格式化代码"><a href="#格式化代码" class="headerlink" title="格式化代码"></a>格式化代码</h3><ol>
<li>选中需要格式化的代码，然后按Alt+F8</li>
<li>选中需要格式化的代码，先按Ctrl+K 变成下面的状态，然后再按Ctrl+F</li>
</ol>
<h3 id="注释-取消注释"><a href="#注释-取消注释" class="headerlink" title="注释&#x2F;取消注释"></a>注释&#x2F;取消注释</h3><ol>
<li>注释代码: 选中需要注释的代码，然后按Ctrl+K+C</li>
<li>取消注释: 选中需要取消注释的代码，然后按Ctrl+K+U</li>
</ol>
<h2 id="十一-括号自动补全"><a href="#十一-括号自动补全" class="headerlink" title="十一. 括号自动补全"></a>十一. 括号自动补全</h2><p>工具-&gt;选项-&gt;文本编辑器-&gt;所有语言-&gt;自动补全大括号</p>
<p><img src="/../../images/Qt/1711594770233.png" alt="1711594770233"></p>
<h1 id="Qt-vscode-环境搭建"><a href="#Qt-vscode-环境搭建" class="headerlink" title="Qt_vscode_环境搭建"></a>Qt_vscode_环境搭建</h1><h2 id="1-安装Qt"><a href="#1-安装Qt" class="headerlink" title="1. 安装Qt"></a>1. 安装Qt</h2><h2 id="2-安装VSCode"><a href="#2-安装VSCode" class="headerlink" title="2. 安装VSCode"></a>2. 安装VSCode</h2><h2 id="3-安装Qt插件"><a href="#3-安装Qt插件" class="headerlink" title="3. 安装Qt插件"></a>3. 安装Qt插件</h2><h2 id="4-安装CMake插件"><a href="#4-安装CMake插件" class="headerlink" title="4. 安装CMake插件"></a>4. 安装CMake插件</h2><h2 id="5-安装QtCreator插件"><a href="#5-安装QtCreator插件" class="headerlink" title="5. 安装QtCreator插件"></a>5. 安装QtCreator插件</h2><h2 id="6-Qt环境变量配置"><a href="#6-Qt环境变量配置" class="headerlink" title="6. Qt环境变量配置"></a>6. Qt环境变量配置</h2><p><img src="/../../images/Qt/1706798303545.png" alt="1706798303545"></p>
<ul>
<li>qt cmake 路径</li>
</ul>
<h2 id="7-检查环境变量"><a href="#7-检查环境变量" class="headerlink" title="7. 检查环境变量"></a>7. 检查环境变量</h2><ul>
<li>打开cmd</li>
<li>cmake –version</li>
<li>gcc -v</li>
</ul>
<h2 id="8-将Qt项目移植到vscode"><a href="#8-将Qt项目移植到vscode" class="headerlink" title="8. 将Qt项目移植到vscode"></a>8. 将Qt项目移植到vscode</h2><ul>
<li><input checked disabled type="checkbox"> 复制vs-qt项目的.vs文件夹,scripts文件夹</li>
<li><input checked disabled type="checkbox"> .vs文件夹下launch.json文件中,修改”program”: “${workspaceRoot}&#x2F;build&#x2F;release&#x2F;<em><strong>.exe”,其中的</strong></em>.exe填写生成的进程名</li>
<li><input checked disabled type="checkbox"> scripts文件夹下两个bat文件,分别是debug和release,修改文件中含***.pro,***.exe相应的地方</li>
</ul>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> QT_DIR=d:\Qt\<span class="number">6</span>.<span class="number">7</span>.<span class="number">3</span>\msvc2019_64</span><br><span class="line"><span class="built_in">set</span> SRC_DIR=<span class="variable">%cd%</span></span><br><span class="line"><span class="built_in">set</span> BUILD_DIR=<span class="variable">%cd%</span>\build</span><br><span class="line">::只修改下述两个宏即可</span><br><span class="line">:: ProName是pro文件的名字</span><br><span class="line"><span class="built_in">set</span> ProName=RewindingDetection_V3</span><br><span class="line">:: SoftWareName是生成exe文件的名字   </span><br><span class="line"><span class="built_in">set</span> SoftWareName=RewindingDetection_V3</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%QT_DIR%</span> <span class="keyword">exit</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%SRC_DIR%</span> <span class="keyword">exit</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span> <span class="built_in">md</span> <span class="variable">%BUILD_DIR%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> &quot;C:\Program Files (x86)\Microsoft Visual Studio\<span class="number">2019</span>\Community\VC\Auxiliary\Build\vcvarsall.bat&quot; x64</span><br><span class="line"></span><br><span class="line"><span class="variable">%QT_DIR%</span>\bin\qmake.exe <span class="variable">%SRC_DIR%</span>\<span class="variable">%ProName%</span>.pro -spec win32-msvc  &quot;CONFIG+=release&quot;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span>\release\<span class="variable">%SoftWareName%</span>.exe <span class="built_in">del</span> <span class="variable">%BUILD_DIR%</span>\release\<span class="variable">%SoftWareName%</span>.exe</span><br><span class="line">nmake Release</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span>\release\Qt5Core.dll (</span><br><span class="line">  <span class="variable">%QT_DIR%</span>\bin\windeployqt.exe <span class="variable">%BUILD_DIR%</span>\release\<span class="variable">%SoftWareName%</span>.exe</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


<h1 id="QUdpSocket"><a href="#QUdpSocket" class="headerlink" title="QUdpSocket"></a>QUdpSocket</h1><p>详见Qt高级，Qt_UDP.pdf</p>
<h1 id="libuv"><a href="#libuv" class="headerlink" title="libuv"></a>libuv</h1><p>两种模式，事件循环调用（回调）</p>
<p>1.The I&#x2F;O loop</p>
<p>2.File I&#x2F;O</p>
<h1 id="系统知识"><a href="#系统知识" class="headerlink" title="系统知识"></a>系统知识</h1><p>系统缓存约64KB字节，（超过这么多字节的数据，则会丢包。直到程序读取走一包数据。）</p>
<h1 id="测试过程试和验结果"><a href="#测试过程试和验结果" class="headerlink" title="测试过程试和验结果"></a>测试过程试和验结果</h1><p>总结：是否丢包主要取决于系统性能（以及是否繁忙等），低性能设备给高性能设备发数据丢包率小于高性能设备给低性能设备发数据。</p>
<p>libuv，与QUdpSocket性能相差不大，均为一定概率丢包。系统缓存64KB，不能单独设置缓存。</p>
<h1 id="测试工具-NetAssist"><a href="#测试工具-NetAssist" class="headerlink" title="测试工具 NetAssist"></a>测试工具 NetAssist</h1><ol>
<li>必须连接上网络，并且网络设置中已经显示正在识别或未识别的网络（否则可能会无法发现，不能被枚举出来）</li>
<li>与是否开启高性能模式无关，与是否插电源无关，是否开启无线网络无关，是否安装开启网卡属性中basler等其它gige无关，与是否开启虚拟网络无关</li>
</ol>
<p><img src="/../../images/Qt/1711531738424.png" alt="1711531738424"></p>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><h3 id="QUdpSocket-1"><a href="#QUdpSocket-1" class="headerlink" title="QUdpSocket"></a>QUdpSocket</h3><h4 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h4><ol>
<li>pro文件添加模块，QT       +&#x3D;  network</li>
<li>添加头文件#include <code>&lt;QUdpSocket&gt;</code> <code>&lt;QHostAddress&gt;</code></li>
<li>创建对象并实例化  private:    QUdpSocket *udpSocket;    udpSocket&#x3D;new QUdpSocket(this);</li>
<li>绑定IP地址和端口：udpSocket-&gt;bind(QHostAddress::AnyIPv4,port);&#x2F;&#x2F;port是端口号，任意指定，建议大于1024小于65535</li>
<li>连接接收数据槽函数   connect(udpSocket,&amp;QUdpSocket::readyRead,this,&amp;MainWindow::read_image);&#x2F;&#x2F;接收数据，处理函数为read_image</li>
<li>发送数据 udpSocket-&gt;writeDatagram(ui-&gt;textEdit-&gt;toPlainText().toUtf8(),QHostAddress(ui-&gt;linee_IP-&gt;text()),i-&gt;linee_port-&gt;text().toInt());</li>
</ol>
<h4 id="其它UDP库"><a href="#其它UDP库" class="headerlink" title="其它UDP库"></a>其它UDP库</h4><p>1.c++系统库 <code>&lt;sys/socket.h&gt;	性能较高，非异步，可能会阻塞主线程，需要额外处理</code></p>
<p>2.libuv <code>&lt;uv.h&gt;	异步，性能高，使用单独的事件循环</code></p>
<p>&lt;**处理接收数据**&gt;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">QHostAddress address;</span><br><span class="line">    quint16 port;</span><br><span class="line"></span><br><span class="line">    QByteArray array;</span><br><span class="line">    array.<span class="built_in">resize</span>(udpSocket-&gt;<span class="built_in">bytesAvailable</span>());<span class="comment">//根据可读数据来设置空间大小</span></span><br><span class="line">    <span class="comment">//读取数据，获取客户端的IP地址和端口号</span></span><br><span class="line">    <span class="type">int</span> tmp = udpSocket-&gt;<span class="built_in">readDatagram</span>(array.<span class="built_in">data</span>(),array.<span class="built_in">size</span>(),&amp;address,&amp;port);</span><br><span class="line">    <span class="keyword">if</span> (tmp&gt;<span class="number">0</span>&amp;&amp;tmp&lt;=<span class="number">1000</span>) &#123;</span><br><span class="line">           ui-&gt;textEdit-&gt;<span class="built_in">append</span>(<span class="string">&quot;接收来自：&quot;</span>+address.<span class="built_in">toString</span>()+<span class="string">&quot;:&quot;</span>+QString::<span class="built_in">number</span>(port)+array);</span><br><span class="line">       &#125;</span><br><span class="line">    <span class="keyword">if</span> (array.<span class="built_in">size</span>() &gt;<span class="number">1000</span>) &#123; <span class="comment">// 假设2表示其他类型的消息</span></span><br><span class="line">           <span class="comment">// 处理其他类型的消息</span></span><br><span class="line"></span><br><span class="line">           <span class="function">QBuffer <span class="title">buffer</span><span class="params">(&amp;array)</span></span>;<span class="comment">//添加数据到缓冲器</span></span><br><span class="line">           buffer.<span class="built_in">open</span>(QIODevice::ReadOnly);<span class="comment">//读取</span></span><br><span class="line"></span><br><span class="line">           <span class="function">QImageReader <span class="title">reader</span><span class="params">(&amp;buffer,<span class="string">&quot;JPG&quot;</span>)</span></span>;<span class="comment">//读取img</span></span><br><span class="line">           QImage img = reader.<span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span>(!img.<span class="built_in">isNull</span>())&#123;</span><br><span class="line"></span><br><span class="line">               QMessageBox::<span class="built_in">information</span>(<span class="literal">NULL</span>,<span class="string">&quot;ima&quot;</span>,<span class="string">&quot;ima&quot;</span>);</span><br><span class="line">               ui-&gt;lb_image_show-&gt;<span class="built_in">setPixmap</span>(QPixmap::<span class="built_in">fromImage</span>(img));</span><br><span class="line">               ui-&gt;lb_image_show-&gt;<span class="built_in">show</span>();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">qDebug</span>()&lt;&lt;address&lt;&lt;<span class="string">&quot;---&quot;</span>&lt;&lt;port;</span><br><span class="line"></span><br><span class="line">           ui-&gt;textEdit-&gt;<span class="built_in">append</span>(<span class="string">&quot;接收来自：&quot;</span>+address.<span class="built_in">toString</span>()+<span class="string">&quot;:&quot;</span>+<span class="string">&quot;\r\n&quot;</span>+QString::<span class="built_in">number</span>(port)+array.<span class="built_in">toHex</span>());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>&lt;**发送图像数据**&gt;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">QString filename = QFileDialog::<span class="built_in">getOpenFileName</span>(<span class="keyword">this</span>, <span class="built_in">tr</span>(<span class="string">&quot;选择图片&quot;</span>), <span class="string">&quot;&quot;</span>, <span class="built_in">tr</span>(<span class="string">&quot;图片文件 (*.png *.jpg *.jpeg)&quot;</span>));</span><br><span class="line">   <span class="keyword">if</span> (!filename.<span class="built_in">isEmpty</span>()) &#123;</span><br><span class="line">   <span class="comment">// 打开图片并进行相应操作</span></span><br><span class="line"></span><br><span class="line">   QImage image;</span><br><span class="line">   <span class="keyword">if</span> (image.<span class="built_in">load</span>(filename)) &#123;</span><br><span class="line">       QLabel* label = ui-&gt;lb_image_show;</span><br><span class="line">       label-&gt;<span class="built_in">setPixmap</span>(QPixmap::<span class="built_in">fromImage</span>(image));</span><br><span class="line">       label-&gt;<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       QByteArray byteArray;</span><br><span class="line">       QBuffer buffer;</span><br><span class="line">       buffer.<span class="built_in">open</span>(QIODevice::WriteOnly);</span><br><span class="line">       image.<span class="built_in">save</span>(&amp;buffer, <span class="string">&quot;JPG&quot;</span>);  <span class="comment">// 将图片数据保存到byteArray中</span></span><br><span class="line">       byteArray.<span class="built_in">append</span>(buffer.<span class="built_in">data</span>());</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(udpSocket-&gt;<span class="built_in">writeDatagram</span>(byteArray.<span class="built_in">data</span>(),</span><br><span class="line">            byteArray.<span class="built_in">size</span>(), <span class="built_in">QHostAddress</span>(ui-&gt;linee_IP-&gt;<span class="built_in">text</span>()),</span><br><span class="line">                                    ui-&gt;linee_port-&gt;<span class="built_in">text</span>().<span class="built_in">toInt</span>())==<span class="number">-1</span>)&#123;</span><br><span class="line">           <span class="built_in">qDebug</span>()&lt;&lt;udpSocket-&gt;<span class="built_in">error</span>();</span><br><span class="line">           QMessageBox::<span class="built_in">warning</span>(<span class="literal">NULL</span>,<span class="string">&quot;erro&quot;</span>,udpSocket-&gt;<span class="built_in">errorString</span>());</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="comment">// 图片加载失败</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="libuv-1"><a href="#libuv-1" class="headerlink" title="libuv"></a>libuv</h3><h4 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h4><ol>
<li>下载源码 <a target="_blank" rel="noopener" href="https://github.com/libuv/libuv.git">https://github.com/libuv/libuv.git</a></li>
<li>下载cmake</li>
<li>cmake编译源码，使用msvc编译器，记住构建路径，点configure后串口显示的内容中有（生成的lib文件，dll，都在这里）（第四第五步骤可以忽略）</li>
<li>打开编译好的内容，找到.sln文件打开工程</li>
<li>选择编译器，release，全部生成</li>
<li>添加lib文件，dll文件，源码中include文件夹，src文件夹到qt工程中。</li>
<li>还需要再pro文件中添加以下内容</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">DEFINES += _WIN32_WINNT=<span class="number">0x0602</span></span><br><span class="line">LIBS += -lws2_32</span><br><span class="line">LIBS += -lUserEnv</span><br><span class="line">LIBS += -lIPHLPAPI</span><br><span class="line">LIBS += -lPsapi</span><br><span class="line">LIBS += -ladvapi32</span><br><span class="line">LIBS += -lUser32</span><br><span class="line">LIBS += -lGdi32</span><br></pre></td></tr></table></figure>

<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><h3 id="QThread-线程类"><a href="#QThread-线程类" class="headerlink" title="QThread 线程类"></a>QThread 线程类</h3><h4 id="常用操作函数"><a href="#常用操作函数" class="headerlink" title="常用操作函数"></a>常用操作函数</h4><p>QThread::QThread(QObject * parent&#x3D;0);   &#x2F;&#x2F;构造函数</p>
<p>void QThread::start();  &#x2F;&#x2F;启动线程</p>
<p>bool QThread::wait(unsigned long time &#x3D; ULONG_MAX); &#x2F;&#x2F;阻塞调用该函数线程</p>
<p>void QThread::terminate(); &#x2F;&#x2F;结束线程</p>
<p>启动线程后，QThread::run()会被调用；</p>
<h4 id="QThread操作步骤"><a href="#QThread操作步骤" class="headerlink" title="QThread操作步骤"></a>QThread操作步骤</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QThread&gt;</span></span></span><br></pre></td></tr></table></figure>

<ol>
<li>新建文件c++类，基类为QThread，继承QObject</li>
<li>头文件重写虚函数，virtual void run();</li>
<li>cpp实现，run();</li>
<li>回主线程，包含子线程头文件</li>
<li>创建子线程类，MyThread mt；  mt.start();</li>
</ol>
<h3 id="QSemaphore-同步"><a href="#QSemaphore-同步" class="headerlink" title="QSemaphore 同步"></a>QSemaphore 同步</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ka411y7oP?p=2&amp;spm_id_from=pageDriver&amp;vd_source=468a1f7565d351f1fb1599d05949abd0">https://www.bilibili.com/video/BV1ka411y7oP?p=2&amp;spm_id_from=pageDriver&amp;vd_source=468a1f7565d351f1fb1599d05949abd0</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QSemaphore&gt;</span></span></span><br></pre></td></tr></table></figure>

<ol>
<li>新建文件，SemManager，</li>
<li>包含QSemaphore，私有化单例：SemManager</li>
<li>公有成员 QSemaphore semA，semB,构造函数分别赋值1，和0</li>
<li>创建一个单例模式</li>
<li>子线程中调用sm-&gt;semB.acquire();阻塞B</li>
<li>子线程中调用sm-&gt;semA.release();释放A</li>
<li>另一个子线程顺序相反，先sm-&gt;semA.acquire();阻塞B</li>
<li>然后sm-&gt;semB.release();释放B</li>
<li>以此实现同步</li>
</ol>
<h3 id="QMutex-互斥"><a href="#QMutex-互斥" class="headerlink" title="QMutex  互斥"></a>QMutex  互斥</h3><p>保护一段代码同一个时刻只有一个线程可以执行</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMutex&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>常用成员函数：</p>
<p>QMutex::QMutex(RecurisonMode mode&#x3D; NonRescursive)&#x2F;&#x2F;构造函数<br>void QMutex::lock();&#x2F;&#x2F;上锁<br>void QMutex::unlock();&#x2F;&#x2F;解锁</p>
<h3 id="moveToThread-委托槽函数给线程执行"><a href="#moveToThread-委托槽函数给线程执行" class="headerlink" title="moveToThread    委托槽函数给线程执行"></a>moveToThread    委托槽函数给线程执行</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QThread&gt;</span></span></span><br><span class="line">SlotObject *slotObj =<span class="keyword">new</span> <span class="built_in">SlotObject</span>(); <span class="comment">//槽函数，功能实现子类,**moveToThread时不能指定父对象**因为没有指定父对象，所以需要自己析构（在关闭窗口中，写delete slotObj;）</span></span><br><span class="line">QThread *thread = <span class="keyword">new</span> <span class="built_in">QThread</span>(<span class="keyword">this</span>);     <span class="comment">//创建一个线程类</span></span><br><span class="line">slotObj-&gt;<span class="built_in">moveToThread</span>(thread);<span class="comment">//委托线程</span></span><br><span class="line"><span class="built_in">connect</span>(ui-&gt;btn_start,QPushbutton::clicked,slotObj,SlotObject::fun);</span><br><span class="line">thread-&gt;<span class="built_in">start</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="插件QPlagin-带界面动态库"><a href="#插件QPlagin-带界面动态库" class="headerlink" title="插件QPlagin(带界面动态库)"></a>插件QPlagin(带界面动态库)</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Sh4y1X7wQ/?spm_id_from=333.999.0.0&vd_source=468a1f7565d351f1fb1599d05949abd0">参考视频</a></p>
<ul>
<li>创建主框架程序</li>
<li>创建插件工程</li>
<li>插件工程添加界面类</li>
<li>插件创建头文件</li>
<li>定义接口</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> PLUGININTERFACE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PLUGININTERFACE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Qwidget&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PluginInterfaceIID <span class="string">&quot;com.szweebon.PluginInterface/1.0.0&quot;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PluginInterface</span> &#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">PluginInterface</span>() = <span class="keyword">default</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> QWidget *<span class="title">genWidget</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Q_DECLARE_INTERFACE</span>(PluginInterface，PluginInterfaceIID)</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// PLUGININTERFACE_H</span></span></span><br></pre></td></tr></table></figure>

<p>未完待续</p>
<h2 id="树形结构浏览器"><a href="#树形结构浏览器" class="headerlink" title="树形结构浏览器"></a>树形结构浏览器</h2><h2 id="显示图片"><a href="#显示图片" class="headerlink" title="显示图片"></a>显示图片</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//QLabel显示OpenCV图像</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MainWindow::on_pushButton_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Mat srcImg = <span class="built_in">imread</span>(<span class="string">&quot;1.jpg&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(srcImg.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        QMessageBox::<span class="built_in">information</span>(<span class="keyword">this</span>,<span class="string">&quot;警告&quot;</span>,<span class="string">&quot;图片读取失败，请检查图片路径！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Mat imgShow;</span><br><span class="line">    <span class="built_in">cvtColor</span>(srcImg, imgShow, COLOR_BGR2RGB); <span class="comment">// 图像格式转换</span></span><br><span class="line">    QImage qImg = <span class="built_in">QImage</span>((<span class="type">unsigned</span> <span class="type">char</span>*)(imgShow.data), imgShow.cols,</span><br><span class="line">                             imgShow.rows, imgShow.cols*imgShow.<span class="built_in">channels</span>(), QImage::Format_RGB888);</span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setPixmap</span>(QPixmap::<span class="built_in">fromImage</span>(qImg.<span class="built_in">scaled</span>(ui-&gt;label-&gt;<span class="built_in">size</span>(), Qt::KeepAspectRatio)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Graphics View显示OpenCV图像</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MainWindow::on_pushButton_2_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Mat srcImg = <span class="built_in">imread</span>(<span class="string">&quot;2.jpg&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(srcImg.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        QMessageBox::<span class="built_in">information</span>(<span class="keyword">this</span>,<span class="string">&quot;警告&quot;</span>,<span class="string">&quot;图片读取失败，请检查图片路径！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Mat imgShow;</span><br><span class="line">    <span class="built_in">cvtColor</span>(srcImg, imgShow, COLOR_BGR2RGB); <span class="comment">// 图像格式转换</span></span><br><span class="line">    QImage qImg = <span class="built_in">QImage</span>((<span class="type">unsigned</span> <span class="type">char</span>*)(imgShow.data), imgShow.cols,</span><br><span class="line">                             imgShow.rows, imgShow.cols*imgShow.<span class="built_in">channels</span>(), QImage::Format_RGB888);</span><br><span class="line"></span><br><span class="line">    QGraphicsScene *scene = <span class="keyword">new</span> QGraphicsScene;<span class="comment">//图像显示</span></span><br><span class="line">    ui-&gt;graphicsView-&gt;<span class="built_in">setScene</span>(scene);</span><br><span class="line">    ui-&gt;graphicsView-&gt;<span class="built_in">show</span>();</span><br><span class="line">    scene-&gt;<span class="built_in">addPixmap</span>(QPixmap::<span class="built_in">fromImage</span>(qImg));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="QML"><a href="#QML" class="headerlink" title="QML"></a>QML</h1><p>QML 是 Qt 的一个图形用户界面语言，它允许你使用 XML 语法来描述界面。<br>QML 是基于 JavaScript 的，因此你可以使用 JavaScript 来编写你的 QML 代码。<br>QML 是一个基于组件的界面语言，这意味着你可以将界面分成多个组件，然后组合在一起。</p>
<p>优点:界面自由度高,声明式描述语言,较容易实现漂亮的界面,前后端分离,界面代码与逻辑代码解耦<br>缺点:需要学习QML语法,需要学习Quick,相对执行效率低,学习成本高,前后端交互复杂(即QML与C++交互复杂)</p>
<h2 id="如何在widget中使用QML"><a href="#如何在widget中使用QML" class="headerlink" title="如何在widget中使用QML"></a>如何在widget中使用QML</h2><ol>
<li>创建一个QML文件，例如main.qml。</li>
<li>在widget中,使用QQuickWidget对象加载qml文件</li>
<li>QML文件存放在qrc中,以资源文件的形式存放.(不至于发布程序暴露代码)</li>
</ol>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">qmlRegisterSingletonInstance</span>(<span class="string">&quot;MyObj&quot;</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="string">&quot;MyObject&quot;</span>,MyObject::<span class="built_in">getInstance</span>());<span class="comment">//注册MyObject单例对象,QML中模块为MyObj,版本号1.0,对象名为MyObject</span></span><br><span class="line"></span><br><span class="line">ui-&gt;list_quick_station_number-&gt;<span class="built_in">setSource</span>(<span class="built_in">QUrl</span>(<span class="string">&quot;qrc:/qml_test.qml&quot;</span>));<span class="comment">//加载qml文件</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Qt-vscode-外部编辑器修改后qtcreator忽略修改提示"><a href="#Qt-vscode-外部编辑器修改后qtcreator忽略修改提示" class="headerlink" title="Qt_vscode_外部编辑器修改后qtcreator忽略修改提示"></a>Qt_vscode_外部编辑器修改后qtcreator忽略修改提示</h1><p>设置步骤</p>
<p>Qtcreatro 12.0.1</p>
<ol>
<li>工具-&gt;外部-&gt;配置-&gt;环境-&gt;系统-&gt;当外部文件被修改时-&gt;重新载入所有未变更的编辑器</li>
<li><img src="/../../images/Qt/1711531430189.png" alt="1711531430189"></li>
</ol>
<p>Qtcreator 4.9.1</p>
<ol>
<li>工具-&gt;选项-&gt;环境-&gt;system-&gt;when fles are externally modified-&gt;reload All Unchanged Editors</li>
</ol>
<h1 id="vscode-msvc-qt开发环境搭建"><a href="#vscode-msvc-qt开发环境搭建" class="headerlink" title="vscode_msvc_qt开发环境搭建"></a>vscode_msvc_qt开发环境搭建</h1><h2 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h2><p><strong>前言</strong></p>
<p>vscode编写Qt程序,有智能提示,代码错误会报错,有debug信息,控制台运行bat文件可以生成exe文件,控制台运行designer *.ui,可以编辑ui文件.最终达到比较舒服的开发环境.</p>
<p>下面分为两种方式实现</p>
<ol>
<li>纯插件实现</li>
<li>纯脚本实现</li>
</ol>
<p>第一种方案相对简单<br>推荐使用第二种方案,对整个开发编译过程有更好理解.</p>
<h2 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><ul>
<li>C&#x2F;C++</li>
<li>CMake</li>
<li>CMake Tools</li>
<li>Qt Configuration</li>
<li>Qt tools</li>
</ul>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul>
<li><p>CMake配置,Cmake Path 填写CMake的安装目录”cmake.exe”</p>
</li>
<li><p><img src="/../../images/Qt/1711533418466.png" alt="1711533418466"></p>
</li>
<li><p>Qt Configuration, ctrl+shift+p 输入qtconfig 选择set qt dir</p>
</li>
<li><p><img src="/../../images/Qt/1711533430661.png" alt="1711533430661"></p>
</li>
<li><ul>
<li>选择Qt的安装目录(若安装了多个版本,则需要选择到想要使用的Qt版本的目录)</li>
</ul>
</li>
<li><p><img src="/../../images/Qt/1711533440347.png" alt="1711533440347"></p>
</li>
<li><p>设置&#x2F;修改MSVC的编译器的目录</p>
</li>
<li><p><img src="/../../images/Qt/1711533449859.png" alt="1711533449859"></p>
</li>
<li><p>设置C&#x2F;C++智能提示,ctrl+shift+p,输入C&#x2F;C++配置(UI)</p>
</li>
<li><p><img src="/../../images/Qt/1711533459604.png" alt="1711533459604"></p>
</li>
<li><p>选择编译器路径(一般会自动扫描到,下拉选择即可,若没有自动扫描到,则需要手动输入,Everything搜索cl.exe路径)</p>
</li>
<li><p><img src="/../../images/Qt/1711533469708.png" alt="1711533469708"></p>
</li>
<li><p>选择IntelliSense 模式为 windows msvc x64</p>
</li>
<li><p>包含路径,填写Qt的include目录(会自动填写),一般为Qt的安装目录\include</p>
</li>
<li><p><img src="/../../images/Qt/1711533478717.png" alt="1711533478717"></p>
</li>
</ul>
<h2 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h2><h3 id="头文件相关"><a href="#头文件相关" class="headerlink" title="头文件相关"></a>头文件相关</h3><ul>
<li>Ctrl+shift+p,输入c,选择c++配置(UI)</li>
<li>选择编译器路径,选择msvc编译器路径,cl.exe(一般会自动搜寻到,选择自己使用的位数x86&#x2F;x64即可)</li>
<li>选择IntelliSense 模式为 windows msvc x64</li>
<li>包含路径,${workspaceRoot}&#x2F;**</li>
<li>包含路径,qt安装目录里相应编译器的include目录,D:&#x2F;Qt&#x2F;Qt6.6.2&#x2F;6.4.3&#x2F;msvc2019_64&#x2F;include&#x2F;**</li>
<li>若在UI里总是修改失败,则需要手动修改,在.vscode目录下找到c_cpp_properties.json文件修改”includePath”的内容即可</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Win32&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;includePath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;D:/Qt/Qt6.6.2/6.4.3/msvc2019_64/include/**&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;defines&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;_DEBUG&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;UNICODE&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;_UNICODE&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;windowsSdkVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10.0.22000.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;compilerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.29.30133/bin/Hostx64/x64/cl.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c17&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cppStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c++17&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;intelliSenseMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;windows-msvc-x64&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="原理分析-vscode编译qt的核心原理"><a href="#原理分析-vscode编译qt的核心原理" class="headerlink" title="原理分析(vscode编译qt的核心原理)"></a>原理分析(vscode编译qt的核心原理)</h3><h4 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h4><ul>
<li>vscode编译qt的原理是使用cmake&#x2F;qmake进行编译,cmake会自动生成编译文件(makefile &#x2F;makefile debug&#x2F; makefile release),然后使用msvc进行编译(nmake makefile debug&#x2F; nmake makefile release),msvc会自动生成exe文件,然后使用exe文件进行运行</li>
<li>简单理解就三步骤</li>
<li>1.设置msvc编译器环境  call “C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat” x64</li>
<li><ol start="2">
<li>qmake生成makefile文件  qmake -spec win32-msvc “CONFIG+&#x3D;Release” “CONFIG+&#x3D;console”</li>
</ol>
</li>
<li><ol start="3">
<li>makefile文件生成exe文件    nmake Release</li>
</ol>
</li>
<li><ol start="4">
<li>exe文件运行    %BUILD_DIR%\Release\X_Line.exe</li>
</ol>
</li>
</ul>
<p>说明:</p>
<ul>
<li>控制台使用qmake指令,qml指令,需要先设置qt的编译器的目录为环境变量</li>
<li>控制台使用nmake指令,需要先设置msvc编译器的目录为环境变量,即call “C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat” x64</li>
<li>控制台使用designer指令打开ui文件,需要先设置qt安装目录下tools文件夹下qt5&#x2F;qt6的desiner相关文件夹找到designer.exe设置此文件夹为环境变量<br><img src="/../../images/Qt/1712501472515.png" alt="1712501472515"></li>
</ul>
<h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li>项目同级目录创建一个bat文件,也可以先创建一个build文件夹,然后把bat文件放在build文件夹中,bat文件内容如下:</li>
</ul>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> QT_DIR=d:\Qt\<span class="number">6</span>.<span class="number">4</span>.<span class="number">1</span>\msvc2019_64</span><br><span class="line"><span class="built_in">set</span> SRC_DIR=<span class="variable">%cd%</span></span><br><span class="line"><span class="built_in">set</span> BUILD_DIR=<span class="variable">%cd%</span>\build</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%QT_DIR%</span> <span class="keyword">exit</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%SRC_DIR%</span> <span class="keyword">exit</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span> <span class="built_in">md</span> <span class="variable">%BUILD_DIR%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> &quot;C:\Program Files (x86)\Microsoft Visual Studio\<span class="number">2019</span>\Community\VC\Auxiliary\Build\vcvarsall.bat&quot; x64</span><br><span class="line"></span><br><span class="line"><span class="variable">%QT_DIR%</span>\bin\qmake.exe <span class="variable">%SRC_DIR%</span>\X_Line.pro -spec win32-msvc  &quot;CONFIG+=Release&quot; &quot;CONFIG+=console&quot;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span>\Release\X_Line.exe <span class="built_in">del</span> <span class="variable">%BUILD_DIR%</span>\Release\X_Line.exe</span><br><span class="line">nmake Release</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span>\Release\Qt5Cored.dll (</span><br><span class="line">  <span class="variable">%QT_DIR%</span>\bin\windeployqt.exe <span class="variable">%BUILD_DIR%</span>\Release\X_Line.exe</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li>运行bat文件,编译完成,会在build文件夹中生成Release文件夹,里面有X_Line.exe文件,运行X_Line.exe即可</li>
</ul>
<h4 id="bat文件逐行分析"><a href="#bat文件逐行分析" class="headerlink" title="bat文件逐行分析"></a>bat文件逐行分析</h4><ul>
<li>@echo off: 禁止显示命令行输出</li>
<li>set QT_DIR&#x3D;d:\Qt\6.4.1\msvc2019_64: 设置Qt的安装目录</li>
<li>set SRC_DIR&#x3D;%cd%: 设置项目目录</li>
<li>set BUILD_DIR&#x3D;%cd%\build: 设置编译目录</li>
<li>if not exist %QT_DIR% exit: 判断Qt的安装目录是否存在,不存在则退出</li>
<li>if not exist %SRC_DIR% exit: 判断项目目录是否存在,不存在则退出</li>
<li>if not exist %BUILD_DIR% md %BUILD_DIR%: 判断编译目录是否存在,不存在则创建</li>
<li>cd build: 进入编译目录</li>
<li>call “C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat” x64: 设置编译器为msvc2019_64</li>
<li>%QT_DIR%\bin\qmake.exe %SRC_DIR%\X_Line.pro -spec win32-msvc “CONFIG+&#x3D;Release” “CONFIG+&#x3D;console”: 使用qmake生成makefile文件,指定编译器为msvc2019_64,指定编译模式为Release,指定编译类型为console</li>
<li>if exist %BUILD_DIR%\Release\X_Line.exe del %BUILD_DIR%\Release\X_Line.exe: 判断Release目录中是否存在X_Line.exe文件,存在则删除</li>
<li>nmake Release: 使用nmake编译makefile文件,指定编译模式为Release</li>
<li>if not exist %BUILD_DIR%\Release\Qt5Cored.dll (</li>
<li>%QT_DIR%\bin\windeployqt.exe %BUILD_DIR%\Release\X_Line.exe: 使用windeployqt将Qt的dll文件复制到Release目录中</li>
<li>)</li>
<li>运行bat文件,编译完成,会在build文件夹中生成Release文件夹,里面有X_Line.exe文件,运行X_Line.exe即可</li>
</ul>
<h4 id="优化bat文件"><a href="#优化bat文件" class="headerlink" title="优化bat文件"></a>优化bat文件</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> QT_DIR=D:\Qt\Qt6.<span class="number">6</span>.<span class="number">2</span>\<span class="number">6</span>.<span class="number">4</span>.<span class="number">3</span>\msvc2019_64</span><br><span class="line"><span class="built_in">set</span> SRC_DIR=<span class="variable">%cd%</span></span><br><span class="line"><span class="built_in">set</span> BUILD_DIR=<span class="variable">%cd%</span>\build</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%QT_DIR%</span> <span class="keyword">exit</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%SRC_DIR%</span> <span class="keyword">exit</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span> <span class="built_in">md</span> <span class="variable">%BUILD_DIR%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> &quot;C:\Program Files (x86)\Microsoft Visual Studio\<span class="number">2019</span>\Community\VC\Auxiliary\Build\vcvarsall.bat&quot; x64</span><br><span class="line"></span><br><span class="line"><span class="variable">%QT_DIR%</span>\bin\qmake.exe <span class="variable">%SRC_DIR%</span>\control9_level_kick.pro -spec win32-msvc  &quot;CONFIG+=release&quot;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> <span class="variable">%BUILD_DIR%</span>\release\control9_level_kick.exe <span class="built_in">del</span> <span class="variable">%BUILD_DIR%</span>\release\control9_level_kick.exe</span><br><span class="line">nmake Release</span><br><span class="line"><span class="comment">@REM if not exist %BUILD_DIR%\release\Qt5Core.dll (</span></span><br><span class="line"><span class="comment">@REM   %QT_DIR%\bin\windeployqt.exe %BUILD_DIR%\release\control9_level_kick.exe</span></span><br><span class="line"><span class="comment">@REM )</span></span><br><span class="line"></span><br><span class="line">release\control9_level_kick.exe</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>逐行解析</strong></li>
<li>@echo off: 禁止显示命令行输出</li>
<li>set QT_DIR&#x3D;D:\Qt\Qt6.6.2\6.4.3\msvc2019_64: 设置Qt的安装目录</li>
<li>set SRC_DIR&#x3D;%cd%: 设置项目目录</li>
<li>set BUILD_DIR&#x3D;%cd%\build: 设置编译目录</li>
<li>if not exist %QT_DIR% exit: 判断Qt的安装目录是否存在,不存在则退出</li>
<li>if not exist %SRC_DIR% exit: 判断项目目录是否存在,不存在则退出</li>
<li>if not exist %BUILD_DIR% md %BUILD_DIR%: 判断编译目录是否存在,不存在则创建</li>
<li>cd build: 进入编译目录</li>
<li>call “C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat” x64: 设置编译器为msvc2019_64</li>
<li>%QT_DIR%\bin\qmake.exe %SRC_DIR%\control9_level_kick.pro -spec win32-msvc “CONFIG+&#x3D;release”: 使用qmake生成makefile文件,指定编译器为msvc2019_64,指定编译模式为Release</li>
<li>if exist %BUILD_DIR%\release\control9_level_kick.exe del %BUILD_DIR%\release\control9_level_kick.exe: 判断Release目录中是否存在control9_level_kick.exe文件,存在则删除</li>
<li>nmake Release: 使用nmake编译makefile文件,指定编译模式为Release</li>
<li>@REM if not exist %BUILD_DIR%\release\Qt5Core.dll (</li>
<li>@REM   %QT_DIR%\bin\windeployqt.exe %BUILD_DIR%\release\control9_level_kick.exe: 使用windeployqt将Qt的dll文件复制到Release目录中</li>
<li>@REM )</li>
<li>release\control9_level_kick.exe: 运行Release目录中的control9_level_kick.exe文件</li>
<li>cd ..: 返回项目目录</li>
<li>@REM 是bat文件的行注释符号</li>
</ul>
<h2 id="控制台打印输出"><a href="#控制台打印输出" class="headerlink" title="控制台打印输出"></a>控制台打印输出</h2><ul>
<li>pro文件添加,config+&#x3D;console</li>
</ul>
<p><img src="/../../images/Qt/1729069891130.png" alt="1729069891130"></p>
<h1 id="Qt-QDir文件夹"><a href="#Qt-QDir文件夹" class="headerlink" title="Qt_QDir文件夹"></a>Qt_QDir文件夹</h1><h2 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QString logFolderPath = <span class="string">&quot;log&quot;</span>;</span><br><span class="line"><span class="built_in">QDir</span>().<span class="built_in">mkdir</span>(logFolderPath);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="title-PyQt5tags"><a href="#title-PyQt5tags" class="headerlink" title="title: PyQt5tags:"></a>title: PyQt5<br>tags:</h2><h1 id="PyQt5"><a href="#PyQt5" class="headerlink" title="PyQt5"></a>PyQt5</h1><h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><p>PyQt5 是 Python 语言的 Qt 绑定库，它提供了 Python 语言中使用 Qt 的完整功能。</p>
<h2 id="2-安装"><a href="#2-安装" class="headerlink" title="2. 安装"></a>2. 安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install PyQt5 -i https://pypi.douban.com/simple</span><br><span class="line">pip install PyQt5-tools -i https://pypi.douban.com/simple</span><br></pre></td></tr></table></figure>

<h2 id="3-制作安装包"><a href="#3-制作安装包" class="headerlink" title="3. 制作安装包"></a>3. 制作安装包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyinstaller</span><br><span class="line">pyinstaller -w -F test.py Ui_mainwindow.py</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-pycharm-配置外部工具"><a href="#4-pycharm-配置外部工具" class="headerlink" title="4. pycharm 配置外部工具"></a>4. pycharm 配置外部工具</h2><p>designer路径<br>pyuic路径</p>
<ul>
<li>ui文件上右键，选择外部工具，选择转化即可</li>
</ul>
<h2 id="5-vscode-安装插件PYQT-Integration"><a href="#5-vscode-安装插件PYQT-Integration" class="headerlink" title="5. vscode 安装插件PYQT Integration"></a>5. vscode 安装插件PYQT Integration</h2><p>配置designer路径</p>
<ul>
<li>ui文件上右键，选择Compile Form 即编译UI文件为py文件</li>
</ul>
<h1 id="Qt-qDebug-重定向到日志"><a href="#Qt-qDebug-重定向到日志" class="headerlink" title="Qt_qDebug_重定向到日志"></a>Qt_qDebug_重定向到日志</h1><h2 id="实现思路及API含义"><a href="#实现思路及API含义" class="headerlink" title="实现思路及API含义"></a>实现思路及API含义</h2><ul>
<li>自定义一个函数作为消息处理器(customMessageHandler)，用于输出调试信息到文件中</li>
<li>使用qInstallMessageHandler函数注册自定义的消息处理器</li>
<li>qInstallMessageHandle注册回调函数后,会截断qt的默认输出，所有qDebug()、qInfo()、qWarning()、qCritical()等函数的输出都会通过自定义的消息处理器(customMessageHandler)处理,需要注意的一点是，自定义的消息处理器(customMessageHandler)的输出不会显示到控制台，需要显示到控制台，需要在自定义的消息处理器里使用qDebug()输出。</li>
</ul>
<h2 id="取消信息处理-一般不取消"><a href="#取消信息处理-一般不取消" class="headerlink" title="取消信息处理 (一般不取消)"></a>取消信息处理 (一般不取消)</h2><p>只要执行qInstallMessageHandler(0) 就行，但是这会把所有的信息输出都屏蔽掉！</p>
<p>如果只是想屏蔽debug或者warning信息的输出，这时候就需要预定义宏：<br>在工程文件.pro里面添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DEFINES += QT_NO_WARNING_OUTPUT\</span><br><span class="line">QT_NO_DEBUG_OUTPUT</span><br></pre></td></tr></table></figure>

<p>然后重新构建，这样就能去掉qDebug的打印信息了。<br>也可以设置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Release:DEFINES += QT_NO_WARNING_OUTPUT\</span><br><span class="line">QT_NO_DEBUG_OUTPUT</span><br></pre></td></tr></table></figure>
<p>这样只是在Release版本的时候不打印对应调试和警告消息。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFile&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTextStream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDateTime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMutex&gt;</span></span></span><br><span class="line"><span class="type">static</span> QMutex mutex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">customMessageHandler</span><span class="params">(QtMsgType type,</span></span></span><br><span class="line"><span class="params"><span class="function">                          <span class="type">const</span> QMessageLogContext &amp;context,</span></span></span><br><span class="line"><span class="params"><span class="function">                          <span class="type">const</span> QString &amp;msg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//QMutexLocker locker(&amp;mutex);  //自动释放锁</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Q_UNUSED(context)</span></span><br><span class="line">    QDateTime _datetime = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">    QString szDate = _datetime.<span class="built_in">toString</span>(<span class="string">&quot;hh:mm:ss.zzz&quot;</span>);<span class="comment">//&quot;yyyy-MM-dd hh:mm:ss ddd&quot;</span></span><br><span class="line">    <span class="function">QString <span class="title">txt</span><span class="params">(szDate)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (type)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> QtDebugMsg:<span class="comment">//调试信息提示</span></span><br><span class="line">    &#123;</span><br><span class="line">        txt += <span class="built_in">QString</span>(<span class="string">&quot; [Debug] &quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> QtInfoMsg:<span class="comment">//信息输出</span></span><br><span class="line">    &#123;</span><br><span class="line">        txt += <span class="built_in">QString</span>(<span class="string">&quot; [Info] &quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> QtWarningMsg:<span class="comment">//一般的warning提示</span></span><br><span class="line">    &#123;</span><br><span class="line">        txt += <span class="built_in">QString</span>(<span class="string">&quot; [Warning] &quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> QtCriticalMsg:<span class="comment">//严重错误提示</span></span><br><span class="line">    &#123;</span><br><span class="line">        txt += <span class="built_in">QString</span>(<span class="string">&quot; [Critical] &quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> QtFatalMsg:<span class="comment">//致命错误提示</span></span><br><span class="line">    &#123;</span><br><span class="line">        txt += <span class="built_in">QString</span>(<span class="string">&quot; [Fatal] &quot;</span>);</span><br><span class="line">        <span class="comment">//abort();</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    &#123;</span><br><span class="line">        txt += <span class="built_in">QString</span>(<span class="string">&quot; [Trace] &quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    txt.<span class="built_in">append</span>( <span class="built_in">QString</span>(<span class="string">&quot; %1&quot;</span>).<span class="built_in">arg</span>(context.file) );</span><br><span class="line">    txt.<span class="built_in">append</span>( <span class="built_in">QString</span>(<span class="string">&quot;&lt;%1&gt;: &quot;</span>).<span class="built_in">arg</span>(context.line) );</span><br><span class="line">    txt.<span class="built_in">append</span>(msg);</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;txt;</span><br><span class="line"></span><br><span class="line">    mutex.<span class="built_in">lock</span>();</span><br><span class="line">    <span class="comment">//一天一个日志</span></span><br><span class="line">    <span class="function">QString <span class="title">fileName</span><span class="params">( <span class="string">&quot;./日志//&quot;</span> + _datetime.toString(<span class="string">&quot;yyyy-MM-dd&quot;</span>) + <span class="string">&quot;.log&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;</span><br><span class="line">    file.<span class="built_in">open</span>(QIODevice::WriteOnly | QIODevice::Append);</span><br><span class="line">    <span class="function">QTextStream <span class="title">text_stream</span><span class="params">(&amp;file)</span></span>;</span><br><span class="line">    text_stream &lt;&lt; txt &lt;&lt; <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">    file.<span class="built_in">flush</span>();</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    mutex.<span class="built_in">unlock</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//注册MessageHandler</span></span><br><span class="line">    <span class="built_in">qInstallMessageHandler</span>(customMessageHandler);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;this is QtDebugMsg&quot;</span>;</span><br><span class="line">    <span class="built_in">qInfo</span>() &lt;&lt; <span class="string">&quot;this is QtInfoMsg&quot;</span>;</span><br><span class="line">    <span class="built_in">qWarning</span>() &lt;&lt; <span class="string">&quot;this is QtWarningMsg&quot;</span>;</span><br><span class="line">    <span class="built_in">qCritical</span>() &lt;&lt; <span class="string">&quot;this is QtCriticalMsg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//GBK修饰的输出带双引号,GBK_LOG修饰的不会带双引号</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; (<span class="string">&quot;测试qDebug&quot;</span>);</span><br><span class="line">    <span class="built_in">qInfo</span>() &lt;&lt; (<span class="string">&quot;测试qInfo&quot;</span>);</span><br><span class="line">    <span class="built_in">qWarning</span>() &lt;&lt; (<span class="string">&quot;测试qWarning&quot;</span>);</span><br><span class="line">    <span class="built_in">qCritical</span>() &lt;&lt; (<span class="string">&quot;测试qCritical&quot;</span>);</span><br><span class="line">    <span class="comment">//qFatal() &lt;&lt; &quot;QtFatalMsg&quot;;</span></span><br><span class="line">    <span class="comment">//qFatal(&quot;This is a fatal message&quot;);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Qt"><a href="#Qt" class="headerlink" title="Qt"></a>Qt</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QByteArray data;</span><br><span class="line">    data.<span class="built_in">clear</span>();</span><br><span class="line">    data.<span class="built_in">append</span>(<span class="number">0xac</span>);</span><br><span class="line">    data.<span class="built_in">append</span>(<span class="number">0x02</span>);</span><br><span class="line">    data.<span class="built_in">append</span>(<span class="number">0x55</span>);</span><br><span class="line">    serial-&gt;<span class="built_in">write</span>(data);</span><br></pre></td></tr></table></figure>

<h2 id="ini文件中文"><a href="#ini文件中文" class="headerlink" title="ini文件中文"></a>ini文件中文</h2><p>Qt的ini配置文件默认不支持直接读写中文，需要手动设置下编码格式才行，强烈建议统一用utf-8<br>编码，包括代码文件。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置了编码以后配置文件内容为 Company=上海物联网技术研究中心</span></span><br><span class="line"><span class="comment">//没有设置编码则配置文件内容为</span></span><br><span class="line">Company=\xe4\xb8\x8a\xe6\xb5\xb7\xe7\x89\xa9\xe8\x81\x94\xe7\xbd\x91\xe6\x8a</span><br><span class="line">\x80\xe6\x9c\xaf\xe7\xa0\x94\xe7\xa9\xb6\xe4\xb8\xad\xe5\xbf\x83</span><br><span class="line"><span class="type">void</span> App::<span class="built_in">readConfig</span>()</span><br><span class="line">&#123;</span><br><span class="line">QSettings <span class="built_in">set</span>(App::ConfigFile, QSettings::IniFormat);</span><br><span class="line">set.<span class="built_in">setIniCodec</span>(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">set.<span class="built_in">beginGroup</span>(<span class="string">&quot;AppConfig1&quot;</span>);</span><br><span class="line">App::Company = set.<span class="built_in">value</span>(<span class="string">&quot;Company&quot;</span>, App::Company).<span class="built_in">toString</span>();</span><br><span class="line">set.<span class="built_in">endGroup</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">App::writeConfig</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">QSettings <span class="title">set</span><span class="params">(App::ConfigFile, QSettings::IniFormat)</span></span>;</span><br><span class="line">set.<span class="built_in">setIniCodec</span>(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">set.<span class="built_in">beginGroup</span>(<span class="string">&quot;AppConfig1&quot;</span>);</span><br><span class="line">set.<span class="built_in">setValue</span>(<span class="string">&quot;Company&quot;</span>, App::Company);</span><br><span class="line">set.<span class="built_in">endGroup</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Qt多线程"><a href="#Qt多线程" class="headerlink" title="Qt多线程"></a>Qt多线程</h2><h2 id="QtConcurrent"><a href="#QtConcurrent" class="headerlink" title="QtConcurrent"></a>QtConcurrent</h2><p>keyword: QtConcurrent, Qt多线程, Qt多线程编程</p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><ul>
<li>QtConcurrent模块提供了在Qt应用程序中使用多线程的类和函数。</li>
<li>可以在任意位置，使用该方法将需要执行的函数传入，并返回一个future对象，该对象可以用来判断函数是否执行完成，以及获取函数的返回值。</li>
</ul>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>QtConcurrent::run()</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QFuture&lt;<span class="type">void</span>&gt; future = QtConcurrent::<span class="built_in">run</span>([=]()&#123;</span><br><span class="line">      QMutexLocker <span class="built_in">locker</span>(&amp;serial_qmutex);  <span class="comment">//加锁并自动释放</span></span><br><span class="line">        <span class="built_in">serialPort_readyRead</span>();</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="线程锁"><a href="#线程锁" class="headerlink" title="线程锁"></a>线程锁</h2><h3 id="QMutexLocker"><a href="#QMutexLocker" class="headerlink" title="QMutexLocker"></a>QMutexLocker</h3><p>keyword: QMutexLocker, Qt多线程, Qt多线程编程</p>
<h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><ul>
<li>QMutexLocker类是QMutex的包装类，用于自动加锁和解锁。</li>
<li>该类在构造函数中传入QMutex对象，并在析构函数中自动解锁。</li>
</ul>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QFuture&lt;<span class="type">void</span>&gt; future = QtConcurrent::<span class="built_in">run</span>([=]()&#123;</span><br><span class="line">      QMutexLocker <span class="built_in">locker</span>(&amp;serial_qmutex);  <span class="comment">//加锁并自动释放</span></span><br><span class="line">        <span class="built_in">serialPort_readyRead</span>();</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>



<h1 id="C-Modbus"><a href="#C-Modbus" class="headerlink" title="C++_Modbus"></a>C++_Modbus</h1><h2 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h2><ol>
<li>使用QModbusTcpServer即可</li>
<li>也可使用libmodbus,相对复杂一点</li>
</ol>
<h2 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h2><ol>
<li>不建议使用QModbusTcpClient</li>
<li>使用libmodbus即可</li>
</ol>
<h2 id="HMI"><a href="#HMI" class="headerlink" title="HMI"></a>HMI</h2><h3 id="库的选择"><a href="#库的选择" class="headerlink" title="库的选择"></a>库的选择</h3><ol>
<li>使用libmodbus库通信,创建自定义控件,lineedit用于显示内容</li>
<li>lineedit中添加鼠标点击事件,使得点击该控件时,弹出数据设置窗口</li>
<li>在lineedit同名文件中添加类,该类为一个窗口,内部包含一个doublespinbox控件和一个按钮,分别用于输入数据以及发送数据到从设备.</li>
<li>在lineedit中开辟多线程,多线程用于处理周期读取数据.创建线程使用线程接受函数的方法,不用run()循环执行</li>
<li>不论读取数据还是写入数据,都必须使用线程锁,否则很容易会造成通信异常.</li>
</ol>
<h3 id="组件实现"><a href="#组件实现" class="headerlink" title="组件实现"></a>组件实现</h3><p>创建modbus结构体,该结构体包含,modbus实例,以及相对应的线程锁</p>
<ol>
<li>数据显示器:<ul>
<li>显示数据</li>
<li>点击后弹窗修改数据(弹窗使用dialog,小窗置顶,弹出时屏蔽其它窗体)</li>
<li>实例化时候可设置最大最小值,通信地址,数据类型(小数&#x2F;整数)小数位数</li>
<li>error信号反射(即通信异常的错误处理)</li>
</ul>
</li>
<li>按钮点击器:<ul>
<li>按钮点击事件(瞬动,反转,置位,复位)</li>
<li>按钮显示内容(与标志位挂钩,为0时显示,与为1时显示)</li>
<li>按钮显示颜色(与标志位挂钩,为0时显示,与为1时显示)</li>
<li>error信号反射</li>
</ul>
</li>
<li>日志记录</li>
<li>配方</li>
</ol>

      
       <hr><span style="font-style: italic;color: gray;"> 邮件 970782239@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2023-2030 gzx
</p>
<p class="footer-entry">作者: <a href="https://hexo.io/" target="_blank">FenJE</a></p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    #post .pjax article .article-entry>ol, #post .pjax article .article-entry>ul, #post .pjax article>ol, #post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    #post .pjax article .article-entry li>ol, #post .pjax article .article-entry li>ul,#post .pjax article li>ol, #post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    #post .pjax article .article-entry>ol>li, #post .pjax article .article-entry>ul>li,#post .pjax article>ol>li, #post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    #post .pjax article .article-entry li>ol>li, #post .pjax article .article-entry li>ul>li,#post .pjax article li>ol>li, #post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
